{"ast":null,"code":"var _jsxFileName = \"/Users/smhsguest/projects/glygen/app/src/components/history_detail.jsx\";\nimport React, { Component } from \"react\";\nimport Alertdialog from './dialogbox';\nimport Loadingicon from \"./loading_icon\";\nimport * as LocalConfig from \"./local_config\";\nimport { Link } from \"react-router-dom\";\nimport DoubleArrowOutlinedIcon from '@material-ui/icons/DoubleArrowOutlined';\nimport { Chart } from \"react-google-charts\";\nimport $ from \"jquery\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass HistoryDetail extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      dialog: {\n        status: false,\n        msg: \"\"\n      }\n    };\n\n    this.handleDialogClose = () => {\n      var tmpState = this.state;\n      tmpState.dialog.status = false;\n      this.setState(tmpState);\n    };\n  }\n\n  componentDidMount() {\n    var reqObj = {\n      \"bcoid\": this.props.bcoId,\n      dataversion: this.props.dataVersion,\n      doctype: \"pairs\"\n    };\n    const requestOptions = {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(reqObj)\n    };\n    const svcUrl = LocalConfig.apiHash.dataset_history_detail;\n    fetch(svcUrl, requestOptions).then(res => res.json()).then(result => {\n      var tmpState = this.state;\n      tmpState.response = result;\n      tmpState.isLoaded = true;\n\n      if (tmpState.response.status === 0) {\n        tmpState.dialog.status = true;\n        tmpState.dialog.msg = tmpState.response.error;\n      }\n\n      this.setState(tmpState); //console.log(\"Request:\",svcUrl);\n\n      console.log(\"Ajax response:\", result);\n    }, error => {\n      this.setState({\n        isLoaded: true,\n        error\n      });\n    });\n  }\n\n  render() {\n    if (!(\"response\" in this.state)) {\n      return /*#__PURE__*/_jsxDEV(Loadingicon, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 14\n      }, this);\n    }\n\n    var recordObj = this.state.response.record;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"pagecn\",\n      children: [/*#__PURE__*/_jsxDEV(Alertdialog, {\n        dialog: this.state.dialog,\n        onClose: this.handleDialogClose\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"leftblock\",\n        style: {\n          width: \"100%\",\n          margin: \"60px 0px 0px 0px\",\n          fontSize: \"17px\",\n          borderBottom: \"1px solid #ccc\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(DoubleArrowOutlinedIcon, {\n          style: {\n            color: \"#2358C2\",\n            fontSize: \"17px\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this), \"\\xA0\", /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/\",\n          className: \"reglink\",\n          children: \"HOME \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 11\n        }, this), \"\\xA0 / \\xA0\", /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/\" + this.props.bcoId + \"/\" + this.props.dataVersion + \"/history\",\n          className: \"reglink\",\n          children: \"HISTORY DETAIL\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"leftblock\",\n        style: {\n          width: \"100%\",\n          margin: \"40px 0px 0px 0px\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"leftblock\",\n          style: {\n            marginBottom: \"10px\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"b\", {\n            children: \"BCO ID\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 17\n          }, this), \": \", recordObj.bcoid]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"leftblock\",\n          style: {\n            width: \"100%\",\n            marginBottom: \"10px\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"b\", {\n            children: \"File Name(s)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 17\n          }, this), \": \", recordObj.history.file_name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"leftblock\",\n          style: {\n            width: \"100%\",\n            marginBottom: \"10px\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"b\", {\n            children: \"Release Date\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 17\n          }, this), \": \", recordObj.history.release_date]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"leftblock\",\n          style: {\n            width: \"100%\",\n            marginBottom: \"10px\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"b\", {\n            children: \"Field Count\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 17\n          }, this), \": \", recordObj.history.field_count]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"leftblock\",\n          style: {\n            width: \"100%\",\n            marginBottom: \"10px\"\n          },\n          children: [\"Fields Added\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            className: \"form-control\",\n            style: {\n              width: \"50%\",\n              height: \"60px\"\n            },\n            children: \"fields_added\" in recordObj.history ? recordObj.history.fields_added.join(\"\\n\") : \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"leftblock\",\n          style: {\n            width: \"100%\",\n            marginBottom: \"10px\"\n          },\n          children: [\"Fields Removed\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 31\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            className: \"form-control\",\n            style: {\n              width: \"50%\",\n              height: \"60px\"\n            },\n            children: \"fields_removed\" in recordObj.history ? recordObj.history.fields_removed.join(\"\\n\") : \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"leftblock\",\n          style: {\n            width: \"100%\",\n            marginBottom: \"10px\"\n          },\n          children: [\"Row Count\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 26\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"form-control\",\n            style: {\n              width: \"10%\"\n            },\n            value: recordObj.history.row_count\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"leftblock\",\n          style: {\n            width: \"100%\",\n            marginBottom: \"10px\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"b\", {\n            children: \"RecordID Count\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 17\n          }, this), \": \", recordObj.history.id_count]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"leftblock\",\n          style: {\n            width: \"100%\",\n            marginBottom: \"10px\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"b\", {\n            children: \"RecordIDs Added\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 17\n          }, this), \": \", recordObj.history.ids_added]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"leftblock\",\n          style: {\n            width: \"100%\",\n            marginBottom: \"10px\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"b\", {\n            children: \"RecordIDs Removed\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 17\n          }, this), \": \", recordObj.history.ids_removed]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default HistoryDetail;","map":{"version":3,"sources":["/Users/smhsguest/projects/glygen/app/src/components/history_detail.jsx"],"names":["React","Component","Alertdialog","Loadingicon","LocalConfig","Link","DoubleArrowOutlinedIcon","Chart","$","HistoryDetail","state","dialog","status","msg","handleDialogClose","tmpState","setState","componentDidMount","reqObj","props","bcoId","dataversion","dataVersion","doctype","requestOptions","method","headers","body","JSON","stringify","svcUrl","apiHash","dataset_history_detail","fetch","then","res","json","result","response","isLoaded","error","console","log","render","recordObj","record","width","margin","fontSize","borderBottom","color","marginBottom","bcoid","history","file_name","release_date","field_count","height","fields_added","join","fields_removed","row_count","id_count","ids_added","ids_removed"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Alertdialog from './dialogbox';\nimport Loadingicon from \"./loading_icon\";\nimport * as LocalConfig from \"./local_config\";\nimport { Link } from \"react-router-dom\";\nimport DoubleArrowOutlinedIcon from '@material-ui/icons/DoubleArrowOutlined';\nimport { Chart } from \"react-google-charts\";\n\nimport $ from \"jquery\";\n\n\nclass HistoryDetail extends Component {\n  \n  state = {\n    dialog:{\n      status:false, \n      msg:\"\"\n    }\n  };\n\n\n  handleDialogClose = () => {\n    var tmpState = this.state;\n    tmpState.dialog.status = false;\n    this.setState(tmpState);\n  }\n\n  componentDidMount() {\n\n    var reqObj = {\"bcoid\":this.props.bcoId, dataversion:this.props.dataVersion, doctype:\"pairs\"};\n    const requestOptions = { \n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify(reqObj)\n    };\n    const svcUrl = LocalConfig.apiHash.dataset_history_detail;\n\n\n    fetch(svcUrl, requestOptions)\n      .then((res) => res.json())\n      .then(\n        (result) => {\n          var tmpState = this.state;\n          tmpState.response = result;\n          tmpState.isLoaded = true;          \n          if (tmpState.response.status === 0){\n            tmpState.dialog.status = true;\n            tmpState.dialog.msg = tmpState.response.error;\n          }\n          this.setState(tmpState);\n          //console.log(\"Request:\",svcUrl);\n          console.log(\"Ajax response:\", result);\n        },\n        (error) => {\n          this.setState({\n            isLoaded: true,\n            error,\n          });\n        }\n      );\n  }\n\n\n\n  render() {\n\n    if (!(\"response\" in this.state)){\n      return <Loadingicon/>\n    }\n\n    var recordObj = this.state.response.record;\n\n    return (\n      <div className=\"pagecn\">\n        <Alertdialog dialog={this.state.dialog} onClose={this.handleDialogClose}/>\n        <div className=\"leftblock\" style={{width:\"100%\", \n          margin:\"60px 0px 0px 0px\", \n          fontSize:\"17px\", borderBottom:\"1px solid #ccc\"}}>\n          <DoubleArrowOutlinedIcon style={{color:\"#2358C2\", fontSize:\"17px\" }}/>\n          &nbsp;\n          <Link to=\"/\" className=\"reglink\">HOME </Link> \n            &nbsp; / &nbsp;\n          <Link to={ \"/\" + this.props.bcoId + \"/\" + this.props.dataVersion +\"/history\"} className=\"reglink\">HISTORY DETAIL</Link> \n        </div>\n        <div className=\"leftblock\" style={{width:\"100%\", margin:\"40px 0px 0px 0px\"}}>\n            <div className=\"leftblock\"  style={{marginBottom:\"10px\"}}>\n                <b>BCO ID</b>: {recordObj.bcoid}\n            </div>\n            <div className=\"leftblock\" style={{width:\"100%\",marginBottom:\"10px\"}}>\n                <b>File Name(s)</b>: {recordObj.history.file_name}\n            </div>\n            <div className=\"leftblock\" style={{width:\"100%\",marginBottom:\"10px\"}}>\n                <b>Release Date</b>: {recordObj.history.release_date}\n            </div>\n            <div className=\"leftblock\" style={{width:\"100%\",marginBottom:\"10px\"}}>\n                <b>Field Count</b>: {recordObj.history.field_count}\n            </div>\n            <div className=\"leftblock\" style={{width:\"100%\",marginBottom:\"10px\"}}>\n                Fields Added<br/> \n                <textarea className=\"form-control\" style={{width:\"50%\", height:\"60px\"}}>\n                  { (\"fields_added\" in recordObj.history ? recordObj.history.fields_added.join(\"\\n\") : \"\") }\n                </textarea>\n            </div>\n            <div className=\"leftblock\" style={{width:\"100%\",marginBottom:\"10px\"}}>\n                Fields Removed<br/> \n                <textarea className=\"form-control\" style={{width:\"50%\", height:\"60px\"}}>\n                  { (\"fields_removed\" in recordObj.history ? recordObj.history.fields_removed.join(\"\\n\") : \"\") }\n                </textarea>\n            </div>\n            <div className=\"leftblock\" style={{width:\"100%\",marginBottom:\"10px\"}}>\n                Row Count<br/>\n                <input className=\"form-control\" style={{width:\"10%\"}} value={recordObj.history.row_count}/>\n            </div>\n            <div className=\"leftblock\" style={{width:\"100%\",marginBottom:\"10px\"}}>\n                <b>RecordID Count</b>: {recordObj.history.id_count}\n            </div>\n            <div className=\"leftblock\" style={{width:\"100%\",marginBottom:\"10px\"}}>\n                <b>RecordIDs Added</b>: {recordObj.history.ids_added}\n            </div>\n            <div className=\"leftblock\" style={{width:\"100%\",marginBottom:\"10px\"}}>\n                <b>RecordIDs Removed</b>: {recordObj.history.ids_removed}\n            </div>\n          </div>\n      </div>\n    );\n  }\n}\n\nexport default HistoryDetail;\n\n"]},"metadata":{},"sourceType":"module"}