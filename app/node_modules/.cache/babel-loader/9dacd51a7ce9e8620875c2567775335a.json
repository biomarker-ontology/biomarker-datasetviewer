{"ast":null,"code":"import $ from\"jquery\";import React from'react';import{Link}from\"react-router-dom\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";export function verifyReqObj(reqObj,formObj){var typeList=[\"text\",\"int\",\"float\",\"select\",\"textarea\",\"stringlist\",\"obj\",\"objlist\"];var errorList=[];for(var i in formObj.groups){var grpObj=formObj.groups[i];for(var j in grpObj.emlist){var obj=grpObj.emlist[j];var emId=obj.emid;var emValue=obj.value;var emLbl=obj.label;if(typeList.indexOf(obj.emtype)===-1){continue;}else if(obj.required===true&&[\"stringlist\",\"objlist\"].indexOf(obj.emtype)!==-1){if(emValue===undefined){errorList.push(/*#__PURE__*/_jsxs(\"li\",{children:[\"\\\"\",emLbl,\"\\\" cannot be empty value\"]},\"error_in_\"+emId));}else if(emValue.length===0){errorList.push(/*#__PURE__*/_jsxs(\"li\",{children:[\"\\\"\",emLbl,\"\\\" cannot be empty value\"]},\"error_in_\"+emId));}}else if(obj.required===true&&reqObj[emId]==null){errorList.push(/*#__PURE__*/_jsxs(\"li\",{children:[\"\\\"\",emLbl,\"\\\" cannot be empty value\"]},\"error_in_\"+emId));}else if(obj.required===true&&obj[\"datatype\"].split(\"|\")[1]===\"int\"&&isNaN(reqObj[emId])){errorList.push(/*#__PURE__*/_jsxs(\"li\",{children:[\"\\\"\",emLbl,\"\\\" cannot be empty value\"]},\"error_in_\"+emId));}else if(obj.required===true&&reqObj[emId].toString()===\"\"){errorList.push(/*#__PURE__*/_jsxs(\"li\",{children:[\"\\\"\",emLbl,\"\\\" cannot be empty value\"]},\"error_in_\"+emId));}else if(\"datatype\"in obj){if(obj[\"datatype\"].split(\"|\")[0]===\"number\"){if(typeof reqObj[emId]!==obj[\"datatype\"].split(\"|\")[0]){errorList.push(/*#__PURE__*/_jsxs(\"li\",{children:[\"\\\"\",emLbl,\"\\\" type mismatch\"]}));}}}//else{\n//  console.log(\"FLAG-2\", emId, obj[\"datatype\"], emValue);\n//}\n}//if (errorList.length === 0){\n//  return errorList;\n//}\n}return errorList;}export function getStarList(starCount){var starList=[];for(var j=1;j<=5;j++){var fg=j<=starCount?\"#F5B041\":\"#cccccc\";var s={cursor:\"pointer\",marginRight:\"1px\",fontSize:\"15px\",color:fg};starList.push(/*#__PURE__*/_jsx(\"i\",{className:\"material-icons\",style:s,children:\"star \"},\"s_\"+j));}return starList;}export function filterObjectList(objList,filterList){var retObj={filterinfo:{},passedobjlist:[]};for(var i in objList){var obj=objList[i];var passCount=0;for(var name in obj.categories){if([\"tags\",\"protein\"].indexOf(name)!==-1){continue;}var value=obj.categories[name].toLowerCase();var combo=name+\"|\"+value;if(!(name in retObj.filterinfo)){retObj.filterinfo[name]={};}if(true){if(!(value in retObj.filterinfo[name])){retObj.filterinfo[name][value]=1;}else{retObj.filterinfo[name][value]+=1;}}if(filterList.indexOf(combo)!==-1){passCount+=1;}}if(filterList.length>0){if(passCount===filterList.length){//if (passCount > 0) {\nretObj.passedobjlist.push(obj);}}else{retObj.passedobjlist.push(obj);}}return retObj;}export function shortText(txt,txtLen){var shortText=\"\";var parts=txt.split(\" \");for(var j in parts){if(shortText.length<txtLen){shortText+=parts[j]+\" \";}else{shortText+=\" ...\";break;}}return shortText;}export function rndrSearchResults(objList,startIdx,endIdx){if(objList.length===0){return/*#__PURE__*/_jsx(\"div\",{className:\"row\",style:{color:\"red\",padding:\"0px 0px 100px 20px\"},children:\"No results found!\"});}var bcoPrefix='GLYG_';var dsPrefix='DS_';var cardList=[];for(var i=startIdx-1;i<=endIdx-1;i++){var obj=objList[i];var moleculeType=\"molecule\"in obj[\"categories\"]?obj[\"categories\"][\"molecule\"]:\"\";var speciesType=\"species\"in obj[\"categories\"]?obj[\"categories\"][\"species\"]:\"\";var fileType=\"file_type\"in obj[\"categories\"]?obj[\"categories\"][\"file_type\"]:\"\";var statusType=\"status\"in obj[\"categories\"]?obj[\"categories\"][\"status\"]:\"\";var objId=bcoPrefix+\"0000\".substring(0,10-String(obj[\"bcoid\"]).length)+String(obj[\"_id\"]);objId=obj[\"bcoid\"].replace(bcoPrefix,dsPrefix);var titleText=statusType+' '+moleculeType.toLowerCase();titleText+=' dataset '+objId+' in ';titleText+=fileType.toUpperCase()+' format.';titleText+=' ['+speciesType+']';var imgCn=/*#__PURE__*/_jsx(\"div\",{className:\"leftblock\",style:{width:\"50%\",margin:\"20px 25% 0px 25%\"},children:/*#__PURE__*/_jsx(\"img\",{className:\"card-img-top\",src:\"/imglib/\"+obj.iconfilename})});if(\"minitable\"in obj){imgCn=/*#__PURE__*/_jsx(\"div\",{className:\"leftblock\",style:{width:\"80%\",margin:\"20px 10% 0px 10%\"},children:rndrMiniTable(obj.minitable)});}cardList.push(/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card mb-4 box-shadow\",style:{minWidth:\"350px\"},children:[/*#__PURE__*/_jsx(\"div\",{className:\"leftblock\",style:{width:\"90%\",textAlign:\"center\",fontSize:\"15px\",margin:\"20px 5% 0px 5%\"},children:titleText}),/*#__PURE__*/_jsx(\"div\",{className:\"leftblock\",style:{width:\"90%\",textAlign:\"center\",margin:\"20px 5% 0px 5%\"},children:/*#__PURE__*/_jsx(Link,{className:\"reglink\",to:objId,style:{fontWeight:\"bold\"},children:obj.title})}),imgCn,/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"card-text\",style:{textAlign:\"center\"},children:shortText(obj.description,900)}),/*#__PURE__*/_jsx(\"div\",{className:\"leftblock\",style:{width:\"100%\",textAlign:\"center\",margin:\"20px 0px 20px 0px\"},children:/*#__PURE__*/_jsx(Link,{className:\"reglink\",to:objId,children:\"View Details\"})})]})]})}));}return/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:cardList});}export function sortReleaseList(tmpList,reversedFlag){var factorList=[1000000,1000,1];var relDict={};for(var i in tmpList){var rel=tmpList[i];var parts=rel.indexOf(\".\")!==-1?rel.split(\".\"):rel.split(\"_\");var ordr=0;for(var j in parts){ordr+=factorList[j]*parseInt(parts[j]);}relDict[ordr]=rel;}var releaseList=[];var keyList=Object.keys(relDict).sort().reverse();for(var i in keyList){var ordr=keyList[i];releaseList.push(relDict[ordr]);}return releaseList;}export function rndrMiniTable(inObj){var s=\"\";var rowList=[];var cellList=[];for(var j in inObj[\"headers\"]){s={textAlign:\"center\",fontWeight:\"bold\",padding:\"5px 0px 0px 0px\",border:\"1px solid #ccc\"};cellList.push(/*#__PURE__*/_jsx(\"td\",{style:s,children:inObj[\"headers\"][j]},\"cell_\"+j));}rowList.push(/*#__PURE__*/_jsx(\"tr\",{style:{height:\"30px\"},children:cellList}));for(var i=0;i<inObj[\"content\"].length;i++){cellList=[];for(var j in inObj[\"content\"][i]){s={textAlign:\"center\",padding:\"5px 0px 0px 0px\",border:\"1px solid #ccc\"};cellList.push(/*#__PURE__*/_jsx(\"td\",{style:s,children:inObj[\"content\"][i][j]},\"cell_\"+i+j));}rowList.push(/*#__PURE__*/_jsx(\"tr\",{style:{height:\"30px\"},children:cellList},\"row_\"+i));}s={width:\"100%\",fontSize:\"16px\",border:\"1px solid #ccc\"};return/*#__PURE__*/_jsx(\"table\",{style:s,align:\"center\",cellSpacing:\"1\",children:/*#__PURE__*/_jsx(\"tbody\",{children:rowList})});}export function getFormElement(pathId,formObj,formClass,emValue){pathId=pathId.replace(\".\",\"_\");function handleChange(em){}var basicTypeList=[\"text\",\"password\",\"int\",\"float\",\"datetime\",\"radio\",\"select\",\"textarea\",\"stringlist\"];var emType=formObj.emtype;var disableFlag=formObj.disable===true?true:false;var em=\"\";if([\"text\",\"password\",\"int\",\"float\",\"datetime\"].indexOf(emType)!==-1){var newType=[\"int\",\"float\"].indexOf(emType)!==-1?\"number\":emType;var em=[];em.push(/*#__PURE__*/_jsx(\"input\",{tag:newType,maxLength:formObj.maxlength,id:pathId,type:formObj.emtype,className:\"form-control \"+formClass,onChange:handleChange,defaultValue:emValue||'',disabled:disableFlag,placeHolder:formObj.placeholder},pathId+\"_\"+newType+\"_input\"));if(\"description\"in formObj){em.push(/*#__PURE__*/_jsx(\"span\",{id:\"desc_\"+pathId,style:{width:\"100%\",fontStyle:\"italic\"},children:formObj.description}));}}else if(emType===\"button\"){em=[];em.push(/*#__PURE__*/_jsx(\"button\",{id:pathId,className:formObj.class,onClick:formObj.onclick,disabled:disableFlag,children:formObj.value}));}else if(emType===\"radio\"){em=[];em.push(/*#__PURE__*/_jsx(\"input\",{type:emType,tag:emType,className:formClass,id:pathId,value:emValue,name:formObj.name,checked:formObj.checked,disabled:disableFlag},pathId+\"_radio\"));em.push(/*#__PURE__*/_jsxs(\"span\",{style:{fontSize:\"16px\"},children:[\"\\xA0\",formObj.label,/*#__PURE__*/_jsx(\"br\",{})]}));if(\"description\"in formObj){em.push(/*#__PURE__*/_jsx(\"div\",{className:\"leftblock\",id:\"desc_\"+pathId,style:{margin:\"0 0 0 20px\",width:\"100%\",fontStyle:\"italic\"},children:formObj.description}));}}else if(emType===\"textarea\"){em=/*#__PURE__*/_jsx(\"textarea\",{tag:emType,maxLength:formObj.maxlength,id:pathId,className:\"form-control \"+formClass,defaultValue:emValue||'',placeholder:formObj.placeholder,disabled:disableFlag,style:formObj.style},pathId+\"_textarea\");}else if(emType===\"plaintext\"){em=/*#__PURE__*/_jsx(\"pre\",{children:emValue});}else if(emType===\"select\"){var optList=[];for(var j in emValue.optlist){var val=emValue.optlist[j].value;var lbl=emValue.optlist[j].label;var key=pathId+\"_\"+j+\"_\"+val+\"_opt\";optList.push(/*#__PURE__*/_jsx(\"option\",{value:val,children:lbl},key));}em=/*#__PURE__*/_jsx(\"select\",{tag:emType,id:pathId,className:\"form-select \"+formClass,defaultValue:emValue.selected||'',disabled:disableFlag,onChange:formObj.onchange,children:optList},pathId+\"_select\");}else if(emType===\"stringlist\"){var sTwo={width:\"100%\",textAlign:\"left\",fontSize:\"12px\"};var sThree={margin:\"0px\",padding:\"0px\",fontSize:\"12px\",textDecoration:\"none\"};var tmpList=[];if(typeof emValue===\"object\"){tmpList=emValue;}var spanList=[];for(var i in tmpList){var randStr=Math.random().toString(36).replace(/[^a-z]+/g,'').substr(0,16);var childPathId=pathId+\"_\"+i+\"_\"+randStr;var divId=pathId+\"_\"+i+\"_div\";var btnId=pathId+\"^\"+i+\"^btn\";spanList.push(/*#__PURE__*/_jsxs(\"div\",{id:divId,className:\"leftblock\",style:{width:\"100%\",padding:\"0px\",marginBottom:\"3px\",border:\"1px solid #ccc\",borderRadius:\"10px\"},children:[/*#__PURE__*/_jsx(\"button\",{id:btnId,className:\"btn btn-link rightblock\",style:{color:\"#2358C2\",margin:\"10px 10px 0px 0px\",padding:\"0px\",textDecoration:\"none\"},onClick:formObj.onremoveitem,children:\" X\"},btnId),/*#__PURE__*/_jsx(\"input\",{id:childPathId,className:\"form-control \"+formClass,type:\"text\",defaultValue:tmpList[i]||'',disabled:true,style:formObj.style},childPathId)]},divId));}var divId=pathId+\"_last_div\";var btnId=pathId+\"^addbtn\";var inputId=pathId.replace(\"|\",\"_\")+\"_last\";spanList.push(/*#__PURE__*/_jsxs(\"div\",{id:divId,className:\"leftblock\",style:{width:\"100%\",padding:\"5px\",marginBottom:\"3px\",border:\"1px solid #ccc\",borderRadius:\"10px\"},children:[/*#__PURE__*/_jsx(\"div\",{className:\"leftblock\",style:{width:\"80%\"},children:/*#__PURE__*/_jsx(\"input\",{id:inputId,className:\"form-control \"+formClass,maxLength:formObj.maxlength,type:\"text\",defaultValue:\"\",disabled:false,placeholder:formObj.placeholder},inputId)}),/*#__PURE__*/_jsx(\"div\",{className:\"leftblock\",style:{margin:\"2px 0px 0px 5px\"},children:/*#__PURE__*/_jsx(\"button\",{id:btnId,className:\"btn btn-outline-secondary btn-sm\",onClick:formObj.onadditem,children:\"Add\"})})]},divId));em=/*#__PURE__*/_jsx(\"div\",{id:pathId+\"_div_xxx\",className:\"leftblock\",style:{width:\"100%\"},children:spanList},pathId+\"_div_xx\");}else if(emType===\"obj\"){var obj=emValue;var spanList=[];for(var _j in formObj.proplist){var childFormObj=formObj.proplist[_j];var childPropName=childFormObj.prop;var childPropValue=obj[childPropName];var childPropType=childFormObj.emtype;var childPathId=pathId+\".\"+childPropName;if(basicTypeList.indexOf(childPropType)!==-1){if(childPropType===\"select\"){childFormObj.value.selected=obj[childPropName];childPropValue=childFormObj.value;}var tmpEm=getFormElement(childPathId,childFormObj,formClass,childPropValue);spanList.push(tmpEm);}else{spanList.push(/*#__PURE__*/_jsxs(\"div\",{className:\"leftblock\",style:{width:\"98%\",margin:\"10px 10px 10px 5px\",padding:\"10px\"},children:[\"exception: \"+childPropName,/*#__PURE__*/_jsx(\"br\",{}),JSON.stringify(obj[childPropName]),/*#__PURE__*/_jsx(\"br\",{})]},childPathId+\"_divvv\"));}}em=/*#__PURE__*/_jsx(\"div\",{className:\"leftblock\",style:{width:\"100%\",padding:\"0px 10px 20px 10px\",marginBottom:\"10px\",border:\"1px solid #ccc\",borderRadius:\"10px\"},children:spanList},pathId+\"_divone\");}else if(emType===\"objlist\"){var sOne={};sTwo={};var typeMap={};var childPropList=[];for(var i in formObj.proplist){var o=formObj.proplist[i];childPropList.push(o.prop);var childPathId=pathId+\"_\"+o.prop;typeMap[childPathId]=o.emtype;if(o.emtype===\"objlist\"){for(var j in o.proplist){var oo=o.proplist[j];var grandChildPathId=childPathId+\"_\"+oo.prop;typeMap[grandChildPathId]=oo.emtype;}}}var divList=[];var spanList=[];var lastSpanList=[];for(var _j2 in childPropList){var childPropName=childPropList[_j2];var childFormObj=formObj.proplist[_j2];var childPathId=pathId+\"_last_\"+childPropName;var childPropValue=\"\";if(childFormObj.emtype===\"select\"){childFormObj.value.selected=\"\";childPropValue=childFormObj.value;}childFormObj.disable=false;var tmpEm=getFormElement(childPathId,childFormObj,formClass,childPropValue);lastSpanList.push(tmpEm);}for(var _i in emValue){//if (this.state.rmlist.indexOf(i) !== -1){continue;}\nobj=emValue[_i];spanList[_i]=[];for(var _j3 in childPropList){var randStr=Math.random().toString(36).replace(/[^a-z]+/g,'').substr(0,16);var childPropName=childPropList[_j3];var childPathId=pathId+\"_\"+_i+\"_\"+_j3+\"_\"+childPropName+' _'+randStr;var childTypePath=pathId+\"_\"+childPropName;var childPropType=childTypePath in typeMap?typeMap[childTypePath]:\"\";if(basicTypeList.indexOf(childPropType)!==-1){childFormObj=formObj.proplist[_j3];childPropValue=obj[childPropName];//spanList[i][childPropName] = childPropValue;\nif(childPropType===\"select\"){childFormObj.value.selected=childPropValue;childPropValue=childFormObj.value;}childFormObj.disable=true;var tmpEm=getFormElement(childPathId,childFormObj,formClass,childPropValue);//var s = {border:\"1px dashed green\"};\n//var tmpEm = (<div className=\"leftblock\" style={s}>{childFormObj.label}</div>);\nspanList[_i].push(tmpEm);}else{sOne={width:\"98%\",margin:\"10px 10px 10px 5px\",padding:\"10px\"};sTwo={width:\"100%\",margin:\"0px\",padding:\"10px\",border:\"1px solid #ccc\",borderRadius:\"10px\"};spanList[_i].push(/*#__PURE__*/_jsxs(\"div\",{className:\"leftblock\",style:sOne,children:[\"exception: \"+childPropName,/*#__PURE__*/_jsx(\"br\",{}),JSON.stringify(emValue[childPropName]),/*#__PURE__*/_jsx(\"br\",{})]},childPathId+\"_divvv\"));}}var divId=pathId+\"_obj_\"+_i+\"_div\";var btnId=pathId+\"^obj^\"+_i+\"^btn\";divList.push(/*#__PURE__*/_jsxs(\"div\",{id:divId,className:\"leftblock\",style:formObj.wrapperstyle,children:[/*#__PURE__*/_jsx(\"button\",{id:btnId,className:\"btn btn-link rightblock\",style:{color:\"#2358C2\",margin:\"5px 0px 0px 0px\",padding:\"0px\",textDecoration:\"none\"},onClick:formObj.onremoveitem,children:\" X\"},btnId),/*#__PURE__*/_jsx(\"div\",{id:divId+\"_\"+_i+\"_divtwo\",className:\"leftblock\",style:{width:\"100%\"},children:spanList[_i]},divId+\"_\"+_i+\"_divtwo\")]},divId));}var divId=\"last_div\";var btnId=pathId+\"^addbtn\";divList.push(/*#__PURE__*/_jsxs(\"div\",{id:divId,className:\"leftblock\",style:{width:\"100%\",padding:\"20px 10px 20px 10px\",margin:\"0px 0px 0px 0px\",border:\"1px solid #ccc\",borderRadius:\"10px\"},children:[/*#__PURE__*/_jsx(\"div\",{id:divId+\"_divtwo\",className:\"leftblock\",style:{width:\"100%\"},children:lastSpanList},divId+\"_divtwo\"),/*#__PURE__*/_jsx(\"div\",{id:divId+\"_divthree\",className:\"leftblock\",style:{width:\"100%\",margin:\"10px 0px 0px 0px\"},children:/*#__PURE__*/_jsx(\"button\",{id:btnId,className:\"btn btn-outline-secondary btn-sm\",onClick:formObj.onadditem,children:\"Add\"})},divId+\"_divthree\")]},divId));em=/*#__PURE__*/_jsx(\"div\",{id:pathId+\"_objlist_one\",className:\"leftblock\",style:{width:\"100%\",fontSize:\"12px\",background:\"#fff\",marginTop:\"0px\"},children:divList},pathId+\"_objlist_div_one\");}var sOuter={width:\"100%\",background:\"#fff\",padding:\"5px\",fontSize:\"12px\"};if(\"style\"in formObj){sOuter=formObj.style;}var sInner={paddingRight:\"5px\",background:\"#fff\",fontSize:\"12px\"};var passwordStrengthLbl=\"\";//if (pathId === \"password_one\"){\n//  passwordStrengthLbl = <div id={\"lbl_\"+pathId} className=\"leftblock\" style={sInner} >\n//    </div>;\n//}\nvar rqrd=formObj.required===true?\"*\":\"\";var lblDiv=/*#__PURE__*/_jsxs(\"div\",{id:\"lbl_\"+pathId,className:\"leftblock\",style:sInner,children:[formObj.label,/*#__PURE__*/_jsxs(\"span\",{style:{color:\"red\"},children:[\" \",rqrd]}),\" \"]});if(emType===\"radio\"){lblDiv=\"\";}return/*#__PURE__*/_jsxs(\"div\",{className:\"leftblock\",style:sOuter,children:[lblDiv,\" \",passwordStrengthLbl,\" \",em]},pathId+\"_\"+emType);}","map":{"version":3,"sources":["/Users/rykahsay/projects/glygen-backend-datasetviewer/app/src/components/util.jsx"],"names":["$","React","Link","verifyReqObj","reqObj","formObj","typeList","errorList","i","groups","grpObj","j","emlist","obj","emId","emid","emValue","value","emLbl","label","indexOf","emtype","required","undefined","push","length","split","isNaN","toString","getStarList","starCount","starList","fg","s","cursor","marginRight","fontSize","color","filterObjectList","objList","filterList","retObj","filterinfo","passedobjlist","passCount","name","categories","toLowerCase","combo","shortText","txt","txtLen","parts","rndrSearchResults","startIdx","endIdx","padding","bcoPrefix","dsPrefix","cardList","moleculeType","speciesType","fileType","statusType","objId","substring","String","replace","titleText","toUpperCase","imgCn","width","margin","iconfilename","rndrMiniTable","minitable","minWidth","textAlign","fontWeight","title","description","sortReleaseList","tmpList","reversedFlag","factorList","relDict","rel","ordr","parseInt","releaseList","keyList","Object","keys","sort","reverse","inObj","rowList","cellList","border","height","getFormElement","pathId","formClass","handleChange","em","basicTypeList","emType","disableFlag","disable","newType","maxlength","placeholder","fontStyle","class","onclick","checked","style","optList","optlist","val","lbl","key","selected","onchange","sTwo","sThree","textDecoration","spanList","randStr","Math","random","substr","childPathId","divId","btnId","marginBottom","borderRadius","onremoveitem","inputId","onadditem","proplist","childFormObj","childPropName","prop","childPropValue","childPropType","tmpEm","JSON","stringify","sOne","typeMap","childPropList","o","oo","grandChildPathId","divList","lastSpanList","childTypePath","wrapperstyle","background","marginTop","sOuter","sInner","paddingRight","passwordStrengthLbl","rqrd","lblDiv"],"mappings":"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","sourcesContent":["import $ from \"jquery\";\nimport React from 'react';\nimport { Link } from \"react-router-dom\";\n\n\nexport function verifyReqObj (reqObj, formObj){\n\n    var typeList = [\"text\", \"int\", \"float\", \"select\", \"textarea\", \"stringlist\", \"obj\", \"objlist\"];\n    var errorList = [];\n    for (var i in formObj.groups){\n      var grpObj = formObj.groups[i];\n      for (var j in grpObj.emlist){\n        var obj = grpObj.emlist[j];\n        var emId = obj.emid;\n        var emValue =  obj.value;\n        var emLbl = obj.label;\n        if (typeList.indexOf(obj.emtype) === -1){\n            continue;\n        }\n        else if (obj.required === true && [\"stringlist\", \"objlist\"].indexOf(obj.emtype) !== -1){\n          if (emValue === undefined){\n            errorList.push(<li key={\"error_in_\" + emId}>\"{emLbl}\" cannot be empty value</li>);\n          }\n          else if (emValue.length === 0){\n            errorList.push(<li key={\"error_in_\" + emId}>\"{emLbl}\" cannot be empty value</li>);\n          }\n        }\n        else if (obj.required === true && reqObj[emId] == null){\n          errorList.push(<li key={\"error_in_\" + emId}>\"{emLbl}\" cannot be empty value</li>);\n        }\n        else if (obj.required === true && obj[\"datatype\"].split(\"|\")[1] === \"int\" && isNaN(reqObj[emId])){\n          errorList.push(<li key={\"error_in_\" + emId}>\"{emLbl}\" cannot be empty value</li>);\n        }\n        else if (obj.required === true && reqObj[emId].toString() === \"\" ){\n          errorList.push(<li key={\"error_in_\" + emId}>\"{emLbl}\" cannot be empty value</li>);\n        }\n        else if (\"datatype\" in obj){\n          if (obj[\"datatype\"].split(\"|\")[0] === \"number\"){\n            if (typeof(reqObj[emId]) !== obj[\"datatype\"].split(\"|\")[0]){\n              errorList.push(<li>\"{emLbl}\" type mismatch</li>);\n            }\n          }\n        }\n        //else{\n        //  console.log(\"FLAG-2\", emId, obj[\"datatype\"], emValue);\n        //}\n      }\n      //if (errorList.length === 0){\n      //  return errorList;\n      //}\n    }\n    return errorList;\n}\n\n\nexport function getStarList(starCount){\n\n  var starList = [];\n  for (var j =1; j <= 5; j++){\n    var fg = (j <= starCount ? \"#F5B041\" : \"#cccccc\");\n    var s = {cursor:\"pointer\",marginRight:\"1px\",fontSize:\"15px\", color:fg};\n    starList.push(<i key={\"s_\"+j} className=\"material-icons\" style={s}>star </i>)\n  }\n  return starList;\n}\n\n\nexport function filterObjectList(objList, filterList) {\n\n    var retObj = {filterinfo:{}, passedobjlist:[]};\n    for (var i in objList) {\n      var obj = objList[i];\n      var passCount = 0;\n      for (var name in obj.categories) {\n        if ([\"tags\",\"protein\"].indexOf(name) !== -1){\n          continue;\n        }\n        var value = obj.categories[name].toLowerCase(); \n        var combo = name + \"|\" + value;\n        if (!(name in retObj.filterinfo)) {\n            retObj.filterinfo[name] = {};\n        }\n        if(true){\n            if (!(value in retObj.filterinfo[name])){\n              retObj.filterinfo[name][value] = 1;\n            }\n            else{\n              retObj.filterinfo[name][value] += 1;\n            }\n        }\n        if (filterList.indexOf(combo) !== -1) {\n          passCount += 1;\n        }\n      }\n      if (filterList.length > 0) {\n        if (passCount === filterList.length){\n        //if (passCount > 0) {\n            retObj.passedobjlist.push(obj);\n        }\n      } \n      else {\n        retObj.passedobjlist.push(obj);\n      }\n    }\n\n    return retObj;\n}\n\n\n\nexport function shortText(txt, txtLen) {\n  var shortText = \"\";\n  var parts = txt.split(\" \");\n  for (var j in parts) {\n    if (shortText.length < txtLen) {\n      shortText += parts[j] + \" \";\n    } else {\n      shortText += \" ...\";\n      break;\n    }\n  }\n  return shortText;\n}\n\n\n\nexport function rndrSearchResults(objList, startIdx, endIdx) {\n\n  \n  if (objList.length === 0){\n    return (\n    <div className=\"row\" style={{color:\"red\", padding:\"0px 0px 100px 20px\"}}>\n      No results found!\n      </div>);\n  }\n\n  var bcoPrefix = 'GLYG_';\n  var dsPrefix = 'DS_';\n\n  var cardList = [];\n  for (var i=startIdx - 1; i <= endIdx -1;  i++){\n    var obj = objList[i];\n    \n    var moleculeType = (\"molecule\" in obj[\"categories\"] ? obj[\"categories\"][\"molecule\"] : \"\");\n    var speciesType = (\"species\" in obj[\"categories\"] ? obj[\"categories\"][\"species\"] : \"\");\n    var fileType = (\"file_type\" in obj[\"categories\"] ? obj[\"categories\"][\"file_type\"] : \"\");\n    var statusType = (\"status\" in obj[\"categories\"] ? obj[\"categories\"][\"status\"] : \"\");\n\n    var objId = bcoPrefix + \"0000\".substring(0, 10 - String(obj[\"bcoid\"]).length) + String(obj[\"_id\"]);\n    objId = obj[\"bcoid\"].replace(bcoPrefix, dsPrefix);\n    var titleText = statusType + ' ' + moleculeType.toLowerCase();\n    titleText += ' dataset ' + objId + ' in ';\n    titleText += fileType.toUpperCase() + ' format.';\n    titleText += ' [' + speciesType + ']';\n\n    var imgCn = (\n      <div className=\"leftblock\" style={{width:\"50%\", margin:\"20px 25% 0px 25%\"}}>     \n        <img className=\"card-img-top\" src={\"/imglib/\" + obj.iconfilename}/>\n      </div>\n    );\n    if (\"minitable\" in obj){\n      imgCn = (\n        <div className=\"leftblock\" style={{width:\"80%\", margin:\"20px 10% 0px 10%\"}}>     \n          {rndrMiniTable(obj.minitable)}\n        </div>\n      );\n    }\n\n    cardList.push(\n      <div className=\"col-md-4\">\n        <div className=\"card mb-4 box-shadow\" style={{minWidth:\"350px\"}}>\n            <div className=\"leftblock\" \n              style={{width:\"90%\", textAlign:\"center\",  fontSize:\"15px\", margin:\"20px 5% 0px 5%\"}}>\n              {titleText}\n            </div>\n            <div className=\"leftblock\" \n              style={{width:\"90%\", textAlign:\"center\", margin:\"20px 5% 0px 5%\"}}>\n              <Link className=\"reglink\" to={objId} style={{fontWeight:\"bold\"}}>\n                {obj.title}\n              </Link>\n            </div>\n            {imgCn}\n            <div className=\"card-body\">\n              <p className=\"card-text\" style={{textAlign:\"center\"}}>{shortText(obj.description, 900)}</p>\n                <div className=\"leftblock\" \n                style={{width:\"100%\",textAlign:\"center\", margin:\"20px 0px 20px 0px\"}}>\n                  <Link className=\"reglink\" to={objId}>\n                    View Details\n                  </Link> \n                </div>\n                \n            </div>\n          </div>\n        </div>\n    );\n  }\n  return (<div className=\"row\">{cardList}</div>);\n}\n\n\n\nexport function sortReleaseList(tmpList, reversedFlag){        \n\n    var factorList = [1000000, 1000, 1];\n    var relDict = {};\n    for (var i in tmpList){\n        var rel = tmpList[i]\n        var parts = (rel.indexOf(\".\") !== -1 ? rel.split(\".\") : rel.split(\"_\"));\n        var ordr = 0;\n        for (var j in parts){\n            ordr += factorList[j]*parseInt(parts[j]);\n        }\n        relDict[ordr] = rel;\n    }\n\n    var releaseList = [];\n    var keyList = Object.keys(relDict).sort().reverse();\n    for (var i in keyList){\n        var ordr = keyList[i];\n        releaseList.push(relDict[ordr]);\n    }\n    \n    return releaseList;\n\n}\n\nexport function rndrMiniTable(inObj){\n\n  var s = \"\";\n  var rowList = [];\n  var cellList = [];\n  for (var j in inObj[\"headers\"]){\n    s = {textAlign:\"center\",fontWeight:\"bold\",padding:\"5px 0px 0px 0px\", border:\"1px solid #ccc\"};\n    cellList.push(<td key={\"cell_\"+j} style={s}>{inObj[\"headers\"][j]}</td>);\n  }\n  rowList.push(<tr style={{height:\"30px\"}}>{cellList}</tr>);\n  for (var i =0; i < inObj[\"content\"].length; i ++){\n    cellList = [];\n    for (var j in inObj[\"content\"][i]){\n      s = {textAlign:\"center\",padding:\"5px 0px 0px 0px\", border:\"1px solid #ccc\"};\n      cellList.push(<td key={\"cell_\"+i+j} style={s}>{inObj[\"content\"][i][j]}</td>);\n    }\n    rowList.push(<tr key={\"row_\"+i} style={{height:\"30px\"}}>{cellList}</tr>);\n  }\n  s = {width:\"100%\",fontSize:\"16px\",border:\"1px solid #ccc\"};\n  return (\n    <table style={s} align=\"center\" cellSpacing=\"1\">\n      <tbody>{rowList}</tbody>\n    </table>\n  );\n}\n\n\n\n\n\nexport function getFormElement(pathId, formObj,formClass, emValue){\n\n  pathId = pathId.replace(\".\", \"_\");\n\n\n  function handleChange (em) {\n  }\n\n\n\n\n  var basicTypeList = [\n      \"text\",\"password\", \"int\", \"float\", \"datetime\",\"radio\", \"select\", \"textarea\",\n      \"stringlist\"\n  ];\n\n  var emType = formObj.emtype;\n  var disableFlag = (formObj.disable === true ? true : false);\n\n\n  var em = \"\";\n  if ([\"text\",\"password\", \"int\", \"float\", \"datetime\"].indexOf(emType) !== -1){\n    var newType = ([\"int\", \"float\"].indexOf(emType) !== -1 ? \"number\": emType);\n    var em = [];\n    em.push(\n      <input tag={newType} key={pathId + \"_\" +newType +  \"_input\"}\n        maxLength={formObj.maxlength}  id={pathId} type={formObj.emtype}\n        className={\"form-control \" + formClass}\n        onChange={handleChange}\n        defaultValue={emValue || ''}\n        disabled={disableFlag}\n        placeHolder={formObj.placeholder}\n      />\n    );\n    if (\"description\" in formObj){\n      em.push(\n        <span id={\"desc_\"+pathId} style={{width:\"100%\", fontStyle:\"italic\"}}>\n        {formObj.description}\n        </span>\n      );\n    }\n  }\n  else if (emType === \"button\"){\n    em = [];\n    em.push(<button id={pathId} className={formObj.class}\n      onClick={formObj.onclick} disabled={disableFlag}>\n      {formObj.value}\n      </button>);\n  }\n  else if (emType === \"radio\"){\n    em = [];\n    em.push(\n      <input type={emType} tag={emType} key={pathId +\"_radio\"}\n        className={formClass} id={pathId} value={emValue} name={formObj.name}\n        checked={formObj.checked}\n        disabled={disableFlag}\n      />\n    );\n    em.push( <span style={{fontSize:\"16px\"}}>&nbsp;{formObj.label}<br/></span>);\n    if (\"description\" in formObj){\n      em.push(<div className=\"leftblock\" id={\"desc_\"+pathId}\n        style={{margin:\"0 0 0 20px\",width:\"100%\", fontStyle:\"italic\"}}>\n        {formObj.description}</div>);\n    }\n  }\n  else if (emType === \"textarea\"){\n    em = (\n      <textarea tag={emType} key={pathId +\"_textarea\"}\n        maxLength={formObj.maxlength} id={pathId}\n        className={\"form-control \" + formClass}\n        defaultValue={emValue || ''}\n        placeholder={formObj.placeholder}\n        disabled={disableFlag}\n        style={formObj.style}\n      >\n      </textarea>\n    );\n  }\n  else if (emType === \"plaintext\"){\n    em = (\n      <pre>{emValue}</pre>\n    );\n  }\n  else if (emType === \"select\"){\n    var optList = [];\n    for (var j in emValue.optlist){\n        const val = emValue.optlist[j].value;\n        const lbl = emValue.optlist[j].label;\n        const key = pathId + \"_\" + j + \"_\" + val + \"_opt\";\n        optList.push(<option key={key} value={val}>{lbl}</option>);\n    }\n    em = (\n        <select tag={emType} key={pathId + \"_select\"} id={pathId}\n          className={\"form-select \" + formClass}\n          defaultValue={emValue.selected || ''}\n          disabled={disableFlag}\n          onChange={formObj.onchange}\n        >\n          {optList}\n        </select>\n    );\n  }\n  else if (emType === \"stringlist\"){\n    var sTwo = {width:\"100%\", textAlign:\"left\", fontSize:\"12px\"};\n    var sThree = {margin:\"0px\", padding:\"0px\", fontSize:\"12px\", textDecoration:\"none\"};\n    var tmpList = [];\n    if(typeof(emValue) === \"object\"){\n      tmpList = emValue;\n    }\n    var spanList = [];\n    for (var i in tmpList){\n      var randStr = Math.random().toString(36).replace(/[^a-z]+/g, '').substr(0, 16);\n      var childPathId = pathId + \"_\"+ i + \"_\" + randStr;\n      var divId = pathId + \"_\"+ i + \"_div\";\n      var btnId = pathId + \"^\"+ i + \"^btn\";\n      spanList.push(\n        <div id={divId} key={divId} className=\"leftblock\"\n          style={{width:\"100%\", padding:\"0px\",\n              marginBottom:\"3px\",border:\"1px solid #ccc\", borderRadius:\"10px\"}}>\n          <button id={btnId} key={btnId} className=\"btn btn-link rightblock\"\n            style={{color:\"#2358C2\", margin:\"10px 10px 0px 0px\",padding:\"0px\",\n            textDecoration:\"none\"}}\n            onClick={formObj.onremoveitem} > X\n          </button>\n          <input id={childPathId} key={childPathId} className={\"form-control \" + formClass}\n            type={\"text\"} defaultValue={tmpList[i] || ''}\n            disabled={true} style={formObj.style}\n          />\n        </div>\n      );\n    }\n    var divId = pathId + \"_last_div\";\n    var btnId = pathId + \"^addbtn\";\n    var inputId = pathId.replace(\"|\", \"_\") + \"_last\";\n\n    spanList.push(\n        <div id={divId} key={divId} className=\"leftblock\"\n          style={{width:\"100%\", padding:\"5px\",\n              marginBottom:\"3px\",border:\"1px solid #ccc\", borderRadius:\"10px\"}}>\n          <div className=\"leftblock\"  style={{width:\"80%\"}}>\n            <input id={inputId} key={inputId}\n              className={\"form-control \" + formClass}\n              maxLength={formObj.maxlength}\n              type={\"text\"} defaultValue={\"\"}\n              disabled={false}\n              placeholder={formObj.placeholder}\n            />\n          </div>\n          <div className=\"leftblock\" style={{margin:\"2px 0px 0px 5px\"}}>\n            <button id={btnId}\n              className=\"btn btn-outline-secondary btn-sm\"\n              onClick={formObj.onadditem}>Add\n            </button>\n          </div>\n        </div>\n    );\n    em = (\n      <div id={pathId + \"_div_xxx\"} key={pathId + \"_div_xx\"}\n        className=\"leftblock\" style={{width:\"100%\"}}>\n        {spanList}\n      </div>\n    );\n  }\n  else if (emType === \"obj\"){\n      var obj = emValue;\n      var spanList = [];\n      for (const j in formObj.proplist){\n          var childFormObj = formObj.proplist[j];\n          var childPropName = childFormObj.prop;\n          var childPropValue = obj[childPropName];\n          var childPropType = childFormObj.emtype;\n          var childPathId = pathId + \".\" + childPropName;\n          if(basicTypeList.indexOf(childPropType) !== -1){\n            if (childPropType === \"select\"){\n              childFormObj.value.selected = obj[childPropName];\n              childPropValue =  childFormObj.value;\n            }\n            var tmpEm = getFormElement(childPathId,childFormObj, formClass, childPropValue);\n            spanList.push(tmpEm);\n          }\n          else{\n            spanList.push(\n              <div key={childPathId + \"_divvv\"} className=\"leftblock\"\n              style={{width:\"98%\", margin:\"10px 10px 10px 5px\", padding:\"10px\"}}>\n                {\"exception: \" + childPropName}<br/>{JSON.stringify(obj[childPropName])}<br/>\n              </div>\n            );\n          }\n      }\n      em = (\n        <div key={pathId + \"_divone\"} className=\"leftblock\" style={{width:\"100%\", padding:\"0px 10px 20px 10px\",        marginBottom:\"10px\",border:\"1px solid #ccc\", borderRadius:\"10px\"}}>\n        {spanList}\n        </div>\n      );\n    }\n    else if (emType === \"objlist\"){\n      var sOne = {};\n      sTwo = {};\n      var typeMap = {};\n      var childPropList = [];\n      for (var i in formObj.proplist){\n        const o = formObj.proplist[i];\n        childPropList.push(o.prop);\n        var childPathId = pathId  + \"_\" + o.prop;\n        typeMap[childPathId] = o.emtype;\n        if (o.emtype === \"objlist\"){\n          for (var j in o.proplist){\n            const oo = o.proplist[j];\n            var grandChildPathId = childPathId + \"_\" + oo.prop;\n            typeMap[grandChildPathId] = oo.emtype;\n          }\n        }\n      }\n\n      var divList = [];\n      var spanList = [];\n      var lastSpanList = [];\n      for (const j in childPropList){\n        var childPropName = childPropList[j];\n        var childFormObj = formObj.proplist[j];\n        var childPathId = pathId + \"_last_\" + childPropName;\n        var childPropValue = \"\";\n        if (childFormObj.emtype === \"select\"){\n          childFormObj.value.selected = \"\";\n          childPropValue = childFormObj.value;\n        }\n        childFormObj.disable = false;\n        var tmpEm = getFormElement(childPathId,childFormObj, formClass,childPropValue);\n        lastSpanList.push(tmpEm);\n\n      }\n\n      for (const i in emValue){\n        //if (this.state.rmlist.indexOf(i) !== -1){continue;}\n        obj = emValue[i];\n        spanList[i] = [];\n        for (const j in childPropList){\n          var randStr = Math.random().toString(36).replace(/[^a-z]+/g, '').substr(0, 16);\n          var childPropName = childPropList[j];\n          var childPathId = pathId + \"_\" + i + \"_\" + j + \"_\" + childPropName + ' _' + randStr;\n          var childTypePath = pathId + \"_\" + childPropName;\n          var childPropType = (childTypePath in typeMap ? typeMap[childTypePath] : \"\");\n          if(basicTypeList.indexOf(childPropType) !== -1){\n            childFormObj = formObj.proplist[j];\n            childPropValue = obj[childPropName];\n            //spanList[i][childPropName] = childPropValue;\n            if (childPropType === \"select\"){\n              childFormObj.value.selected = childPropValue;\n              childPropValue = childFormObj.value;\n            }\n            childFormObj.disable = true;\n            var tmpEm = getFormElement(childPathId,childFormObj, formClass, childPropValue);\n            //var s = {border:\"1px dashed green\"};\n            //var tmpEm = (<div className=\"leftblock\" style={s}>{childFormObj.label}</div>);\n            spanList[i].push(tmpEm);\n          }\n          else{\n            sOne = { width:\"98%\", margin:\"10px 10px 10px 5px\", padding:\"10px\"};\n            sTwo = {width:\"100%\", margin:\"0px\", padding:\"10px\", border:\"1px solid #ccc\", borderRadius:\"10px\"};\n            spanList[i].push(\n              <div key={childPathId + \"_divvv\"} className=\"leftblock\" style={sOne}>\n                {\"exception: \" + childPropName}<br/>{JSON.stringify(emValue[childPropName])}<br/>\n              </div>\n            );\n          }\n        }\n        var divId = pathId + \"_obj_\" + i + \"_div\";\n        var btnId = pathId + \"^obj^\" + i + \"^btn\";\n        divList.push(\n            <div id={divId} key={divId} className=\"leftblock\" style={formObj.wrapperstyle}>\n              <button id={btnId} key={btnId} className=\"btn btn-link rightblock\"\n                style={{color:\"#2358C2\", margin:\"5px 0px 0px 0px\",padding:\"0px\",\n                textDecoration:\"none\"}}\n                onClick={formObj.onremoveitem} > X\n            </button>\n            <div id={divId + \"_\" + i + \"_divtwo\"} key={divId + \"_\" + i +  \"_divtwo\"} className=\"leftblock\" style={{width:\"100%\"}}>\n            {spanList[i]}\n            </div>\n            </div>);\n      }\n      var divId = \"last_div\";\n      var btnId = pathId + \"^addbtn\";\n      divList.push(\n        <div id={divId} key={divId} className=\"leftblock\"\n          style={{width:\"100%\", padding:\"20px 10px 20px 10px\", margin:\"0px 0px 0px 0px\",\n              border:\"1px solid #ccc\", borderRadius:\"10px\"}}>\n          <div id={divId + \"_divtwo\"} key={divId + \"_divtwo\"}\n            className=\"leftblock\"          style={{width:\"100%\"}}>\n            {lastSpanList}\n          </div>\n          <div id={divId + \"_divthree\"} key={divId + \"_divthree\"}\n            className=\"leftblock\" style={{width:\"100%\", margin:\"10px 0px 0px 0px\"}}>\n            <button id={btnId}\n              className=\"btn btn-outline-secondary btn-sm\"\n                onClick={formObj.onadditem}>\n              Add\n            </button>\n          </div>\n        </div>\n      );\n      em = (\n        <div key={pathId + \"_objlist_div_one\"}  id={pathId + \"_objlist_one\"} className=\"leftblock\" style={{width:\"100%\", fontSize:\"12px\",background:\"#fff\", marginTop:\"0px\"}}>\n           {divList}\n        </div>\n      );\n    }\n\n\n\n\n  var sOuter = {width:\"100%\",  background:\"#fff\", padding:\"5px\", fontSize:\"12px\"};\n  if (\"style\" in formObj){\n    sOuter = formObj.style;\n  }\n  var sInner = { paddingRight:\"5px\", background:\"#fff\",  fontSize:\"12px\"};\n\n  var passwordStrengthLbl = \"\";\n  //if (pathId === \"password_one\"){\n  //  passwordStrengthLbl = <div id={\"lbl_\"+pathId} className=\"leftblock\" style={sInner} >\n  //    </div>;\n  //}\n\n  var rqrd = (formObj.required === true ? \"*\" : \"\");\n  var lblDiv = (<div id={\"lbl_\"+pathId} className=\"leftblock\" style={sInner} >{formObj.label}\n    <span style={{color:\"red\"}}> {rqrd}</span> </div>);\n  if (emType === \"radio\"){lblDiv = \"\";}\n  return (\n    <div className=\"leftblock\" key={pathId +\"_\" + emType} style={sOuter}>\n      {lblDiv} {passwordStrengthLbl} {em }\n    </div>\n  );\n}\n\n\n"]},"metadata":{},"sourceType":"module"}