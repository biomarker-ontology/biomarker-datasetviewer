{"ast":null,"code":"var _jsxFileName = \"/Users/rykahsay/projects/glygen-backend-datasetviewer/app/src/components/gsd.jsx\";\nimport React, { Component } from \"react\";\nimport Alertdialog from './dialogbox';\nimport Loadingicon from \"./loading_icon\";\nimport * as LocalConfig from \"./local_config\";\nimport { Chart } from \"react-google-charts\";\nimport { Link } from \"react-router-dom\";\nimport DoubleArrowOutlinedIcon from '@material-ui/icons/DoubleArrowOutlined';\nimport { Markup } from 'interweave';\nimport $ from \"jquery\";\nimport { sortReleaseList, verifyReqObj } from \"./util\";\nimport formHash from \"../jsondata/form_submissions.json\";\nimport Formeditor from \"./form_editor\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar verInfo = {};\n\nclass Gsd extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      ver: \"\",\n      tabidx: \"sampleview\",\n      record: {},\n      dialog: {\n        status: false,\n        msg: \"\"\n      }\n    };\n\n    this.handleDialogClose = () => {\n      var tmpState = this.state;\n      tmpState.dialog.status = false;\n      this.setState(tmpState);\n    };\n\n    this.handleSubmit = () => {\n      var jqClass = \".submissionsform\";\n      var reqObj = {};\n      var selectedForm = formHash[\"step_one\"];\n      $(jqClass).each(function () {\n        var fieldName = $(this).attr(\"id\");\n        var fieldValue = $(this).val();\n\n        for (var i in selectedForm.groups) {\n          for (var j in selectedForm.groups[i].emlist) {\n            var emObj = selectedForm.groups[i].emlist[j];\n\n            if (fieldName === emObj.emid) {\n              if (emObj.datatype.split(\"|\")[1] === \"int\") {\n                fieldValue = parseInt(fieldValue);\n              }\n\n              reqObj[fieldName] = fieldValue;\n\n              if (emObj.emtype === \"select\") {\n                emObj.value.selected = fieldValue;\n              } else {\n                emObj.value = fieldValue;\n              }\n            }\n          }\n        } //$(this).val(\"\");\n\n      });\n      var errorList = verifyReqObj(reqObj, selectedForm);\n\n      if (errorList.length !== 0) {\n        var tmpState = this.state;\n        tmpState.dialog.status = true;\n        tmpState.dialog.msg = /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"ul\", {\n            children: [\" \", errorList, \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 34\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 29\n        }, this);\n        this.setState(tmpState);\n        return;\n      }\n    };\n\n    this.setFormValues = () => {\n      for (var k in formHash) {\n        for (var i in formHash[k][\"groups\"]) {\n          for (var j in formHash[k][\"groups\"][i][\"emlist\"]) {\n            var emObj = formHash[k][\"groups\"][i][\"emlist\"][j];\n\n            if (emObj.emid === \"submitbtn\") {\n              //var f = (emObj.value === \"Back\" ? this.handleBack : this.handleNext);\n              emObj.onclick = eval(emObj.onclick);\n            }\n          }\n        }\n      }\n    };\n  }\n\n  render() {\n    //if (!(\"response\" in this.state)){\n    //  return <Loadingicon/>\n    //}\n    this.setFormValues();\n    var k = \"step_one\";\n\n    var cn = /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(Formeditor, {\n        formClass: formHash[k].class,\n        formObj: formHash[k]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 20\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 15\n    }, this);\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"pagecn\",\n      children: [/*#__PURE__*/_jsxDEV(Alertdialog, {\n        dialog: this.state.dialog,\n        onClose: this.handleDialogClose\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"leftblock\",\n        style: {\n          width: \"100%\",\n          margin: \"60px 0px 0px 0px\",\n          fontSize: \"17px\",\n          borderBottom: \"1px solid #ccc\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(DoubleArrowOutlinedIcon, {\n          style: {\n            color: \"#2358C2\",\n            fontSize: \"17px\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 11\n        }, this), \"\\xA0\", /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/\",\n          className: \"reglink\",\n          children: \"HOME \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 11\n        }, this), \"\\xA0 / \\xA0\", /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/gsd\",\n          className: \"reglink\",\n          children: \"GSD Submission\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"leftblock\",\n        style: {\n          width: \"100%\",\n          margin: \"20px 0px 0px 0px\"\n        },\n        children: cn\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default Gsd;","map":{"version":3,"sources":["/Users/rykahsay/projects/glygen-backend-datasetviewer/app/src/components/gsd.jsx"],"names":["React","Component","Alertdialog","Loadingicon","LocalConfig","Chart","Link","DoubleArrowOutlinedIcon","Markup","$","sortReleaseList","verifyReqObj","formHash","Formeditor","verInfo","Gsd","state","ver","tabidx","record","dialog","status","msg","handleDialogClose","tmpState","setState","handleSubmit","jqClass","reqObj","selectedForm","each","fieldName","attr","fieldValue","val","i","groups","j","emlist","emObj","emid","datatype","split","parseInt","emtype","value","selected","errorList","length","setFormValues","k","onclick","eval","render","cn","class","width","margin","fontSize","borderBottom","color"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Alertdialog from './dialogbox';\nimport Loadingicon from \"./loading_icon\";\nimport * as LocalConfig from \"./local_config\";\nimport { Chart } from \"react-google-charts\";\nimport { Link } from \"react-router-dom\";\nimport DoubleArrowOutlinedIcon from '@material-ui/icons/DoubleArrowOutlined';\nimport { Markup } from 'interweave';\nimport $ from \"jquery\";\nimport {sortReleaseList, verifyReqObj} from \"./util\";\nimport formHash from \"../jsondata/form_submissions.json\";\nimport Formeditor from \"./form_editor\";\n\n\nvar verInfo = {};\n\n\nclass Gsd extends Component {\n  \n  state = {\n    ver:\"\",\n    tabidx:\"sampleview\",\n    record:{},\n    dialog:{\n      status:false, \n      msg:\"\"\n    }\n  };\n\n  \n  handleDialogClose = () => {\n    var tmpState = this.state;\n    tmpState.dialog.status = false;\n    this.setState(tmpState);\n  }\n\n\n  handleSubmit = () => {\n    var jqClass = \".submissionsform\";\n    \n    var reqObj = {};\n    var selectedForm = formHash[\"step_one\"];\n    $(jqClass).each(function () {\n        var fieldName = $(this).attr(\"id\");\n        var fieldValue = $(this).val();\n        for (var i in selectedForm.groups){\n            for (var j in selectedForm.groups[i].emlist){\n              var emObj = selectedForm.groups[i].emlist[j];\n              if (fieldName === emObj.emid){\n                if (emObj.datatype.split(\"|\")[1] === \"int\"){\n                  fieldValue = parseInt(fieldValue);\n                }\n                reqObj[fieldName] = fieldValue;\n                if (emObj.emtype === \"select\"){\n                  emObj.value.selected = fieldValue;\n                }\n                else{\n                  emObj.value = fieldValue;\n                }\n              }\n            }\n        }\n        //$(this).val(\"\");\n    });\n\n    var errorList = verifyReqObj(reqObj, selectedForm);\n    if (errorList.length !== 0) {\n      var tmpState = this.state;\n      tmpState.dialog.status = true;\n      tmpState.dialog.msg = <div><ul> {errorList} </ul></div>;\n      this.setState(tmpState);\n      return;\n    }\n\n\n\n  }\n  \n  setFormValues = () => {\n    for (var k in formHash){\n      for (var i in formHash[k][\"groups\"]){\n        for (var j in formHash[k][\"groups\"][i][\"emlist\"]){\n          var emObj = formHash[k][\"groups\"][i][\"emlist\"][j];\n          if (emObj.emid === \"submitbtn\"){\n            //var f = (emObj.value === \"Back\" ? this.handleBack : this.handleNext);\n            emObj.onclick = eval(emObj.onclick);\n          }\n        }\n      }\n    }\n\n  }\n\n\n  render() {\n\n    //if (!(\"response\" in this.state)){\n    //  return <Loadingicon/>\n    //}\n  \n    this.setFormValues();\n    var k = \"step_one\";\n    var cn = (<div><Formeditor formClass={formHash[k].class} formObj={formHash[k]}/></div>)\n    \n    return (\n      <div className=\"pagecn\">\n        <Alertdialog dialog={this.state.dialog} onClose={this.handleDialogClose}/>\n        <div className=\"leftblock\" style={{width:\"100%\", \n          margin:\"60px 0px 0px 0px\", \n          fontSize:\"17px\", borderBottom:\"1px solid #ccc\"}}>\n          <DoubleArrowOutlinedIcon style={{color:\"#2358C2\", fontSize:\"17px\" }}/>\n          &nbsp;\n          <Link to=\"/\" className=\"reglink\">HOME </Link> \n            &nbsp; / &nbsp;\n          <Link to=\"/gsd\" className=\"reglink\">GSD Submission</Link> \n        </div>\n\n        <div className=\"leftblock\" \n          style={{width:\"100%\", margin:\"20px 0px 0px 0px\"}}>\n          {cn}\n        </div>\n        \n      </div>\n    );\n  }\n}\n\nexport default Gsd;\n"]},"metadata":{},"sourceType":"module"}