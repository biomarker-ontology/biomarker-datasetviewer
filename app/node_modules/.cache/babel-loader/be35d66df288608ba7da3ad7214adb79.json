{"ast":null,"code":"import _classCallCheck from\"/Users/rykahsay/projects/glygen-backend-datasetviewer/app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/rykahsay/projects/glygen-backend-datasetviewer/app/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/rykahsay/projects/glygen-backend-datasetviewer/app/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/rykahsay/projects/glygen-backend-datasetviewer/app/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from\"react\";import Alertdialog from'./dialogbox';import Loadingicon from\"./loading_icon\";import*as LocalConfig from\"./local_config\";import{Link}from\"react-router-dom\";import DoubleArrowOutlinedIcon from'@material-ui/icons/DoubleArrowOutlined';import{Chart}from\"react-google-charts\";import $ from\"jquery\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var GlycanFinder=/*#__PURE__*/function(_Component){_inherits(GlycanFinder,_Component);var _super=_createSuper(GlycanFinder);function GlycanFinder(){var _this;_classCallCheck(this,GlycanFinder);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={confirmation:\"\",viewstatus:0,tabidx:\"failedrows\",cn:\"\",dialog:{status:false,msg:\"\"}};_this.handleDialogClose=function(){var tmpState=_this.state;tmpState.dialog.status=false;tmpState.viewstatus=0;$(\"#tabcn\").css(\"display\",\"none\");_this.setState(tmpState);};_this.handleTitleClick=function(e){var tmpState=_this.state;tmpState.tabidx=e.target.id.split(\"-\")[0];_this.setState(tmpState);};_this.handleGlycanFinder=function(){var reqObj={\"filename\":_this.state.response.inputinfo.name};var requestOptions={method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(reqObj)};var svcUrl=LocalConfig.apiHash.dataset_glycan_finder;var s=\"width:40%;margin:20px 30% 40px 30%\";var tmpCn='<img src=\"'+process.env.PUBLIC_URL+'/imglib/loading.gif\" style=\"'+s+'\">';$(\"#glycan_finder_results_cn\").html(tmpCn);$(\"#run_glycan_finder\").html(\"\");fetch(svcUrl,requestOptions).then(function(res){return res.json();}).then(function(result){var tmpState=_this.state;tmpState.isLoaded=true;tmpState.response=result;if(result.status===0){tmpState.dialog.status=true;tmpState.dialog.msg=result.error;}_this.setState(tmpState);},function(error){_this.setState({isLoaded:true,error:error});});};_this.handleFileSubmit=function(){var reqObj={\"fname\":\"\",\"lname\":\"\",\"email\":\"\",\"affilation\":\"\"};for(var f in reqObj){reqObj[f]=$('#'+f).val();}reqObj[\"filename\"]=_this.state.response.inputinfo.name;var requestOptions={method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(reqObj)};var svcUrl=LocalConfig.apiHash.dataset_submit;fetch(svcUrl,requestOptions).then(function(res){return res.json();}).then(function(result){var tmpState=_this.state;tmpState.isLoaded=true;if(result.status===0){tmpState.dialog.status=true;tmpState.dialog.msg=result.error;}_this.setState(tmpState);$(\"#submitcn\").html(result.confirmation);},function(error){_this.setState({isLoaded:true,error:error});});};_this.handleFileUpload=function(){var file=$('#userfile')[0].files[0];var fileFormat=$('#formatselector').val();var qcType=$('#qcselector').val();var dataVersion=$('#dataversion').val();var formData=new FormData();formData.append(\"userfile\",file);formData.append(\"format\",fileFormat);formData.append(\"qctype\",qcType);formData.append(\"dataversion\",dataVersion);var tmpState=_this.state;tmpState.viewstatus=1;_this.setState(tmpState);var sizeLimit=1000000000;if(file.size>sizeLimit){var msg='Your submitted file is '+file.size+' Bytes big. ';msg+='This exceeds maximum allowed file size of '+sizeLimit+' Bytes.';var tmpState=_this.state;tmpState.dialog.status=true;tmpState.dialog.msg=msg;_this.setState(tmpState);return;}var requestOptions={method:'POST',body:formData};var svcUrl=LocalConfig.apiHash.dataset_upload;fetch(svcUrl,requestOptions).then(function(res){return res.json();}).then(function(result){var tmpState=_this.state;tmpState.response=result;tmpState.viewstatus=2;tmpState.isLoaded=true;if(tmpState.response.status===0){tmpState.dialog.status=true;tmpState.dialog.msg=tmpState.response.error;}if([\"png\",\"jpeg\"].indexOf(tmpState.response.inputinfo.format)!==-1){tmpState.tabidx=\"glycanfinder\";}_this.setState(tmpState);console.log(\"Ajax response:\",result);},function(error){_this.setState({isLoaded:true,error:error});});};_this.getFormCn=function(){var formatOptions=[];var obj={\"id\":\"png\",\"label\":\"Glycan PNG\"};formatOptions.push(/*#__PURE__*/_jsx(\"option\",{value:obj.id,children:obj.label}));return/*#__PURE__*/_jsxs(\"div\",{className:\"leftblock formone\",style:{width:\"100%\",marginTop:\"10px\"},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"leftblock\",style:{width:\"100%\"},children:[/*#__PURE__*/_jsx(\"br\",{}),\"Upload image file ( example file: \",/*#__PURE__*/_jsx(\"a\",{href:\"/ln2data/downloads/examples/glycan_image.png\",className:\"reglink\",download:true,children:\"glycan_image.png\"}),\").\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"leftblock\",style:{width:\"25%\",margin:\"20px 0px 0px 0px\",border:\"0px dashed orange\"},children:[/*#__PURE__*/_jsx(\"b\",{children:\"File Format\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"select\",{id:\"formatselector\",className:\"form-control\",children:formatOptions})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"leftblock\",style:{width:\"30%\",margin:\"20px 0px 0px 10px\"},children:[/*#__PURE__*/_jsx(\"b\",{children:\"Select File\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",id:\"userfile\",className:\"form-control\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"leftblock\",style:{width:\"10%\",margin:\"20px 0px 0px 10px\"},children:[\"\\xA0\",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",name:\"userfile\",value:\"Upload File\",className:\"form-control\",onClick:_this.handleFileUpload})]})]});};return _this;}_createClass(GlycanFinder,[{key:\"render\",value:function render(){var tabHash={glycanfinder:{title:\"Run Glycan Finder\",cn:\"\"}};if(this.state.dialog.status===false&&this.state.viewstatus===1){$(\"#tabcn\").css(\"display\",\"block\");tabHash.glycanfinder.cn=/*#__PURE__*/_jsx(Loadingicon,{});}else if(this.state.dialog.status===false&&this.state.viewstatus===2){if([\"png\",\"jpeg\"].indexOf(this.state.response.inputinfo.format)!==-1){var server=process.env.REACT_APP_SERVER;var imageUrl=\"/ln2data/userdata/\"+server+\"/tmp/\"+this.state.response.inputinfo.name;var chartCn=\"\";if(\"mappingrows\"in this.state.response){chartCn=/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Glycan Finder Result\"}),/*#__PURE__*/_jsx(Chart,{width:'100%',chartType:\"Table\",loader:/*#__PURE__*/_jsx(\"div\",{children:\"Loading Chart\"}),data:this.state.response.mappingrows,options:{allowHtml:true,showRowNumber:false,width:'100%',height:'100%'},rootProps:{'data-testid':'1'}})]});}var tmpCn=/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"leftblock\",style:{width:\"70%\",margin:\"0px 0px 0px  20px\"},children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Query Glycan Image \"}),/*#__PURE__*/_jsx(\"img\",{src:imageUrl}),/*#__PURE__*/_jsx(\"br\",{})]}),/*#__PURE__*/_jsx(\"div\",{id:\"run_glycan_finder\",className:\"leftblock\",style:{width:\"70%\",margin:\"20px 0px  0px  20px\"},children:/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Run Glycan Finder\",className:\"form-control btn btn-outline-secondary btn-sm\",style:{width:\"200px\"},onClick:this.handleGlycanFinder})}),/*#__PURE__*/_jsx(\"div\",{id:\"glycan_finder_results_cn\",className:\"leftblock\",style:{width:\"100%\",margin:\"40px 0px 0px  20px\"},children:chartCn})]});tabHash.glycanfinder.cn=tmpCn;}}var tabTitleList=[];var tabContentList=[];for(var tabId in tabHash){var activeFlag=tabId===this.state.tabidx?\"active\":\"\";var btnStyle={width:\"100%\",fontSize:\"15px\",color:\"#333\",border:\"1px solid #ccc\"};btnStyle.color=activeFlag===\"active\"?\"#990000\":\"#333\";btnStyle.background=activeFlag===\"active\"?\"#fff\":\"#eee\";btnStyle.borderBottom=activeFlag===\"active\"?\"1px solid #fff\":\"1px solid #ccc\";tabTitleList.push(/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",role:\"presentation\",style:{width:\"25%\"},children:/*#__PURE__*/_jsx(\"button\",{className:\"nav-link \"+activeFlag,id:tabId+\"-tab\",\"data-bs-toggle\":\"tab\",\"data-bs-target\":\"#sample_view\",type:\"button\",role:\"tab\",\"aria-controls\":\"sample_view-cn\",\"aria-selected\":\"true\",style:btnStyle,onClick:this.handleTitleClick,children:tabHash[tabId].title})},\"tab-\"+tabId));tabContentList.push(/*#__PURE__*/_jsx(\"div\",{className:\"tab-pane fade show  leftblock \"+activeFlag,id:tabId+\"-cn\",role:\"tabpanel\",\"aria-labelledby\":tabId+\"-tab\",style:{width:\"100%\",padding:\"20px\",background:\"#fff\"},children:tabHash[tabId].cn},\"formcn-\"+tabId));}var tabsCn=/*#__PURE__*/_jsxs(\"div\",{id:\"tabcn\",className:\"leftblock\",style:{width:\"100%\",display:\"none\",margin:\"20px 0px 0px 0px\"},children:[/*#__PURE__*/_jsx(\"ul\",{className:\"nav nav-tabs\",id:\"myTab\",role:\"tablist\",style:{width:\"100%\"},children:tabTitleList}),/*#__PURE__*/_jsx(\"div\",{className:\"tab-content\",id:\"myTabContent\",style:{width:\"100%\",margin:\"20px 0px 0px 0px\"},children:tabContentList})]});var affOptions=[];for(var i in this.props.initObj.affilations){var obj=this.props.initObj.affilations[i];affOptions.push(/*#__PURE__*/_jsx(\"option\",{value:obj.id,children:obj.label}));}var formCn=this.getFormCn();return/*#__PURE__*/_jsxs(\"div\",{className:\"pagecn\",style:{border:\"0px dashed red\",zIndex:100},children:[/*#__PURE__*/_jsx(Alertdialog,{dialog:this.state.dialog,onClose:this.handleDialogClose}),/*#__PURE__*/_jsxs(\"div\",{className:\"leftblock\",style:{width:\"100%\",margin:\"60px 0px 0px 0px\",fontSize:\"17px\",borderBottom:\"1px solid #ccc\"},children:[/*#__PURE__*/_jsx(DoubleArrowOutlinedIcon,{style:{color:\"#2358C2\",fontSize:\"17px\"}}),\"\\xA0\",/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"reglink\",children:\"HOME \"}),\"\\xA0 / \\xA0\",/*#__PURE__*/_jsx(Link,{to:\"/uploads\",className:\"reglink\",children:\"GLYCAN FINDER\"})]}),formCn,/*#__PURE__*/_jsx(\"div\",{className:\"leftblock\",style:{width:\"100%\",margin:\"15px 0px 0px 0px\",borderBottom:\"1px solid #ccc\"}}),/*#__PURE__*/_jsx(\"div\",{className:\"leftblock\",style:{width:\"100%\",margin:\"40px 0px 0px 0px\",border:\"0px dashed orange\"},children:tabsCn})]});}}]);return GlycanFinder;}(Component);export default GlycanFinder;","map":{"version":3,"sources":["/Users/rykahsay/projects/glygen-backend-datasetviewer/app/src/components/glycan_finder.jsx"],"names":["React","Component","Alertdialog","Loadingicon","LocalConfig","Link","DoubleArrowOutlinedIcon","Chart","$","GlycanFinder","state","confirmation","viewstatus","tabidx","cn","dialog","status","msg","handleDialogClose","tmpState","css","setState","handleTitleClick","e","target","id","split","handleGlycanFinder","reqObj","response","inputinfo","name","requestOptions","method","headers","body","JSON","stringify","svcUrl","apiHash","dataset_glycan_finder","s","tmpCn","process","env","PUBLIC_URL","html","fetch","then","res","json","result","isLoaded","error","handleFileSubmit","f","val","dataset_submit","handleFileUpload","file","files","fileFormat","qcType","dataVersion","formData","FormData","append","sizeLimit","size","dataset_upload","indexOf","format","console","log","getFormCn","formatOptions","obj","push","label","width","marginTop","margin","border","tabHash","glycanfinder","title","server","REACT_APP_SERVER","imageUrl","chartCn","mappingrows","allowHtml","showRowNumber","height","tabTitleList","tabContentList","tabId","activeFlag","btnStyle","fontSize","color","background","borderBottom","padding","tabsCn","display","affOptions","i","props","initObj","affilations","formCn","zIndex"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Alertdialog from './dialogbox';\nimport Loadingicon from \"./loading_icon\";\nimport * as LocalConfig from \"./local_config\";\nimport { Link } from \"react-router-dom\";\nimport DoubleArrowOutlinedIcon from '@material-ui/icons/DoubleArrowOutlined';\nimport { Chart } from \"react-google-charts\";\n\nimport $ from \"jquery\";\n\n\nclass GlycanFinder extends Component {\n  \n  state = {\n    confirmation:\"\",\n    viewstatus:0,\n    tabidx:\"failedrows\",\n    cn:\"\",\n    dialog:{\n      status:false, \n      msg:\"\"\n    }\n  };\n\n\n  handleDialogClose = () => {\n    var tmpState = this.state;\n    tmpState.dialog.status = false;\n    tmpState.viewstatus = 0;\n    $(\"#tabcn\").css(\"display\", \"none\");\n    this.setState(tmpState);\n  }\n\n  handleTitleClick = (e) => {\n    var tmpState = this.state;\n    tmpState.tabidx = e.target.id.split(\"-\")[0];\n    this.setState(tmpState);\n  };\n\n\n  handleGlycanFinder = () => {\n\n    var reqObj = {\"filename\":this.state.response.inputinfo.name};\n    const requestOptions = {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify(reqObj)\n    };\n    const svcUrl = LocalConfig.apiHash.dataset_glycan_finder;\n  \n\n    const s = \"width:40%;margin:20px 30% 40px 30%\";\n    var tmpCn = '<img src=\"' + process.env.PUBLIC_URL + '/imglib/loading.gif\" style=\"'+s+'\">';\n    $(\"#glycan_finder_results_cn\").html(tmpCn);\n    $(\"#run_glycan_finder\").html(\"\");\n\n\n    fetch(svcUrl, requestOptions)\n      .then((res) => res.json())\n      .then(\n        (result) => {\n          var tmpState = this.state;\n          tmpState.isLoaded = true;\n          tmpState.response = result;\n          if (result.status === 0){\n            tmpState.dialog.status = true;\n            tmpState.dialog.msg = result.error;\n          }\n          this.setState(tmpState);\n        },\n        (error) => {\n          this.setState({\n            isLoaded: true,\n            error,\n          });\n        }\n      );\n\n  }\n\n\n\n\n  handleFileSubmit = () => {\n\n    var reqObj = {\"fname\":\"\", \"lname\":\"\", \"email\":\"\", \"affilation\":\"\"};\n    for (var f in reqObj){\n      reqObj[f] = $('#'+f).val();\n    }\n    reqObj[\"filename\"] = this.state.response.inputinfo.name;\n \n    const requestOptions = {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify(reqObj)\n    };\n    const svcUrl = LocalConfig.apiHash.dataset_submit;\n\n    fetch(svcUrl, requestOptions)\n      .then((res) => res.json())\n      .then(\n        (result) => {\n          var tmpState = this.state;\n          tmpState.isLoaded = true;\n          if (result.status === 0){\n            tmpState.dialog.status = true;\n            tmpState.dialog.msg = result.error;\n          }\n          this.setState(tmpState);\n          $(\"#submitcn\").html(result.confirmation);\n        },\n        (error) => {\n          this.setState({\n            isLoaded: true,\n            error,\n          });\n        }\n      );\n\n  }\n\n\n\n  handleFileUpload = () => {\n    \n    var file = $('#userfile')[0].files[0];\n    var fileFormat = $('#formatselector').val();\n    var qcType = $('#qcselector').val();\n    var dataVersion = $('#dataversion').val();\n\n    var formData = new FormData();\n    formData.append(\"userfile\", file);\n    formData.append(\"format\", fileFormat);\n    formData.append(\"qctype\", qcType);\n    formData.append(\"dataversion\", dataVersion);\n    \n    var tmpState = this.state;\n    tmpState.viewstatus = 1;\n    this.setState(tmpState);\n\n\n    var sizeLimit = 1000000000;\n    if (file.size > sizeLimit){\n        var msg = 'Your submitted file is ' + file.size + ' Bytes big. ';\n        msg += 'This exceeds maximum allowed file size of ' + sizeLimit + ' Bytes.';\n        var tmpState = this.state;\n        tmpState.dialog.status = true;\n        tmpState.dialog.msg = msg;\n        this.setState(tmpState);\n        return;\n    }\n   \n    const requestOptions = { \n      method: 'POST', \n      body: formData\n    };\n    const svcUrl = LocalConfig.apiHash.dataset_upload;\n\n    fetch(svcUrl, requestOptions)\n      .then((res) => res.json())\n      .then(\n        (result) => {\n          var tmpState = this.state;\n          tmpState.response = result;\n          tmpState.viewstatus = 2;\n          tmpState.isLoaded = true;\n          if (tmpState.response.status === 0){\n            tmpState.dialog.status = true;\n            tmpState.dialog.msg = tmpState.response.error;\n          }\n          if ([\"png\", \"jpeg\"].indexOf(tmpState.response.inputinfo.format) !== -1){\n            tmpState.tabidx = \"glycanfinder\";\n          }\n          this.setState(tmpState);\n          console.log(\"Ajax response:\", result);\n        },\n        (error) => {\n          this.setState({\n            isLoaded: true,\n            error,\n          });\n        }\n      );\n\n  }\n\n\n  \n\n  getFormCn = () => {\n\n    var formatOptions = [];\n    var obj = {\"id\":\"png\", \"label\":\"Glycan PNG\"};\n    formatOptions.push(<option value={obj.id}>{obj.label}</option>);\n\n    return(\n      <div className=\"leftblock formone\" style={{width:\"100%\",marginTop:\"10px\"}}>\n        <div className=\"leftblock\" style={{width:\"100%\"}}>\n              <br/>Upload image file (\n                example file: <a href=\"/ln2data/downloads/examples/glycan_image.png\"\n                className=\"reglink\" download>glycan_image.png</a>).\n        </div>\n        <div className=\"leftblock\" style={{width:\"25%\",\n                margin:\"20px 0px 0px 0px\",border:\"0px dashed orange\"}}>\n              <b>File Format</b><br/>\n              <select id=\"formatselector\"  className=\"form-control\">\n                {formatOptions}\n              </select>\n        </div>\n\n        <div className=\"leftblock\" style={{width:\"30%\", margin:\"20px 0px 0px 10px\"}}>\n              <b>Select File</b><br/>\n              <input type=\"file\" id=\"userfile\"  className=\"form-control\"/>\n        </div>\n\n        <div className=\"leftblock\" style={{width:\"10%\", margin:\"20px 0px 0px 10px\"}}>\n              &nbsp;<br/>\n              <input\n                type=\"submit\" name=\"userfile\"  value=\"Upload File\" className=\"form-control\"\n                onClick={this.handleFileUpload}\n              />\n        </div>\n      </div>\n    );\n\n  }\n\n\n\n  render() {\n\n\n    var tabHash = {\n        glycanfinder:{title:\"Run Glycan Finder\", cn:\"\"}\n    };\n\n    if (this.state.dialog.status === false && this.state.viewstatus === 1){\n      $(\"#tabcn\").css(\"display\", \"block\");\n      tabHash.glycanfinder.cn = (<Loadingicon/>)\n    } \n    else if (this.state.dialog.status === false && this.state.viewstatus === 2){\n        if ([\"png\", \"jpeg\"].indexOf(this.state.response.inputinfo.format) !== -1){\n          var server = process.env.REACT_APP_SERVER;\n          var imageUrl = \"/ln2data/userdata/\"+server+\"/tmp/\" + this.state.response.inputinfo.name;\n          \n\n          var chartCn = \"\";\n          if (\"mappingrows\" in this.state.response){\n\n              chartCn = (\n                <div>\n                <h5>Glycan Finder Result</h5>\n                <Chart width={'100%'} chartType=\"Table\" loader={<div>Loading Chart</div>}\n                  data={this.state.response.mappingrows}\n                  options={{allowHtml: true, showRowNumber: false, width: '100%', height: '100%'}}\n                  rootProps={{ 'data-testid': '1' }}\n                />\n                </div>\n              );\n          }\n          var tmpCn = (\n                <div>\n                <div className=\"leftblock\" style={{width:\"70%\", margin:\"0px 0px 0px  20px\"}}>\n                    <h5>Query Glycan Image </h5>\n                    <img src={imageUrl}/><br/>\n                </div>\n                <div id=\"run_glycan_finder\"  className=\"leftblock\" style={{width:\"70%\", margin:\"20px 0px  0px  20px\"}}>\n                <input type=\"submit\" value=\"Run Glycan Finder\" \n                      className=\"form-control btn btn-outline-secondary btn-sm\" \n                      style={{width:\"200px\"}}\n                      onClick={this.handleGlycanFinder}\n                    />\n                </div>\n                <div id=\"glycan_finder_results_cn\" className=\"leftblock\" \n                  style={{width:\"100%\", margin:\"40px 0px 0px  20px\"}}>\n                    {chartCn}\n                </div>\n                </div>\n            );\n            tabHash.glycanfinder.cn = tmpCn;\n        }\n    }\n\n    var tabTitleList= [];\n    var tabContentList = []; \n    for (var tabId in tabHash){\n        var activeFlag = (tabId === this.state.tabidx ? \"active\" : \"\" );\n        var btnStyle = {width:\"100%\", fontSize:\"15px\", color:\"#333\", border:\"1px solid #ccc\"};\n        btnStyle.color = (activeFlag === \"active\" ? \"#990000\" : \"#333\");\n        btnStyle.background = (activeFlag === \"active\" ? \"#fff\" : \"#eee\");\n        btnStyle.borderBottom = (activeFlag === \"active\" ? \"1px solid #fff\" : \"1px solid #ccc\");\n        tabTitleList.push(\n                <li key={\"tab-\"+tabId} className=\"nav-item\" role=\"presentation\"\n                  style={{width:\"25%\"}}>\n                  <button className={\"nav-link \" + activeFlag}\n                  id={tabId + \"-tab\"}  data-bs-toggle=\"tab\"\n                  data-bs-target={\"#sample_view\"} type=\"button\" role=\"tab\" aria-controls={\"sample_view-cn\"} aria-selected=\"true\"\n                  style={btnStyle} onClick={this.handleTitleClick}\n                >\n                  {tabHash[tabId].title}\n                </button>\n              </li>\n        );\n        tabContentList.push(\n                <div key={\"formcn-\"+tabId}\n                  className={\"tab-pane fade show  leftblock \" + activeFlag}\n                  id={tabId+\"-cn\"} role=\"tabpanel\" aria-labelledby={tabId + \"-tab\"}\n                  style={{width:\"100%\",  padding:\"20px\", background:\"#fff\"}}>\n                  {tabHash[tabId].cn}\n                </div>);\n    }\n\n\n    var tabsCn = (\n            <div id=\"tabcn\" className=\"leftblock\" style={{width:\"100%\", display:\"none\", margin:\"20px 0px 0px 0px\"}}>\n              <ul className=\"nav nav-tabs\" id=\"myTab\" role=\"tablist\" style={{width:\"100%\"}}>\n                {tabTitleList}\n              </ul>\n              <div className=\"tab-content\" id=\"myTabContent\"\n                  style={{width:\"100%\", margin:\"20px 0px 0px 0px\"}}>\n                {tabContentList}\n              </div>\n          </div>);\n\n\n     var affOptions = [];\n    for (var i in this.props.initObj.affilations){\n      var obj = this.props.initObj.affilations[i];\n      affOptions.push(<option value={obj.id}>{obj.label}</option>);\n    }\n\n    var formCn = this.getFormCn();\n\n    return (\n      <div className=\"pagecn\" style={{border:\"0px dashed red\", zIndex:100}}>\n        <Alertdialog dialog={this.state.dialog} onClose={this.handleDialogClose}/>\n        <div className=\"leftblock\" style={{width:\"100%\", \n          margin:\"60px 0px 0px 0px\", \n          fontSize:\"17px\", borderBottom:\"1px solid #ccc\"}}>\n          <DoubleArrowOutlinedIcon style={{color:\"#2358C2\", fontSize:\"17px\" }}/>\n          &nbsp;\n          <Link to=\"/\" className=\"reglink\">HOME </Link> \n            &nbsp; / &nbsp;\n          <Link to={\"/uploads\"} className=\"reglink\">GLYCAN FINDER</Link> \n        </div>\n        \n        {formCn}\n        <div className=\"leftblock\" style={{width:\"100%\",margin:\"15px 0px 0px 0px\",\n            borderBottom:\"1px solid #ccc\"}}></div>\n       <div className=\"leftblock\" style={{width:\"100%\", margin:\"40px 0px 0px 0px\", \n           border:\"0px dashed orange\"}}>\n          {tabsCn}\n        </div>\n\n      </div>\n    );\n  }\n}\n\nexport default GlycanFinder;\n\n"]},"metadata":{},"sourceType":"module"}